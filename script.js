// Generated by CoffeeScript 1.9.2
(function() {
  var top;

  window.Editor = React.createClass({
    getInitialState: function() {
      return {
        text: "hello world",
        overlays: [
          {
            attribute: 'bold',
            start: 0,
            end: 5
          }, {
            attribute: 'italic',
            start: 6,
            end: 11
          }
        ]
      };
    },
    attributeToTag: function(attribute) {
      var simple_elements;
      simple_elements = {
        bold: 'b',
        italic: 'i',
        container: 'div'
      };
      return simple_elements[attribute];
    },
    renderTree: function(node) {
      var tag;
      if (node.text != null) {
        return node.text;
      }
      tag = this.attributeToTag(node.attribute);
      return React.createElement(tag, null, this.renderTreeList(node.children));
    },
    renderTreeList: function(nodes) {
      var i, len, node, results;
      results = [];
      for (i = 0, len = nodes.length; i < len; i++) {
        node = nodes[i];
        results.push(this.renderTree(node));
      }
      return results;
    },
    render: function() {
      return this.renderTree(overlayedTextToTree(this.state.overlays, this.state.text));
    }
  });

  React.render(React.createElement(Editor, null), document.getElementById('main'));

  top = function(stack) {
    return stack[stack.length - 1];
  };

}).call(this);
